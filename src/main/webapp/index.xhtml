<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

    <h:head>
    	<h:outputStylesheet library="biblioteca" name="theme.css" />
    </h:head>

    <h:body>

	<p:sidebar widgetVar="sidebar">
        <h1>Biblioteca</h1>
    </p:sidebar>
    
    <h:form>
	    <div style="display: flex; align-items: center; justify-content: space-between; gap: 20px;">
		    <div style="display: flex; align-items: center; gap: 10px;">
		    	<p:commandButton icon="pi pi-align-justify" type="button" onclick="PF('sidebar').show()" styleClass="mr-2" style="background: none; color: white;" />
	    		<h1>Biblioteca</h1>
		    </div>
	
			<p:inputText id="search" value="#{homeBean.searchValue}" required="true"
				label="Procure por um livro, autor ou categoria" placeholder="Procure por um livro, autor ou categoria..." style="width: 50%;">
				<f:validateLength minimum="2" />
				<p:ajax event="keyup" listener="#{homeBean.searchChange}"/>
			</p:inputText>
	
			<div style="display: flex; align-items: center; gap: 10px;">
		    	<p:commandButton value="Cadastrar" onclick="PF('dlgCadastrar').show();" />
		    	<p:commandButton value="Entrar" styleClass="ui-button-outlined" onclick="PF('dlgLogin').show();" />
		    </div>
	    	
	    </div>
    </h:form>
    
    <!-- Diálogo de Login -->
    <p:dialog header="Entrar" widgetVar="dlgLogin" modal="true" draggable="false" resizable="false">
        <h:form>
            <div style="display: flex; flex-direction: column; gap: 15px;" >
	            <div style="display: flex; gap: 10px; justify-content:space-between; align-items: center;">
	                <h:outputLabel for="username" value="Usuário:" />
	                <p:inputText id="username" value="#{loginBean.username}" required="true" label="Usuário" placeholder="Seu usuário" />
	            </div>
                
                <div style="display: flex; gap: 10px; justify-content:space-between; align-items: center;">
	                <h:outputLabel for="password" value="Senha:" />
	                <p:password id="password" value="#{loginBean.password}" required="true" label="Senha" placeholder="Sua senha" />
	            </div>
                
                <p:commandButton value="Entrar" action="#{loginBean.login}" update="@form" style="width: 100%;" />
                
                <div style="display: flex; gap: 20px; align-items: center;">
		            <h:outputLabel value="Não tem uma conta?" />
		            <p:commandLink value="Cadastrar" style="text-decoration: underline" onclick="PF('dlgLogin').hide(); PF('dlgCadastrar').show();" /> 
	        </div>
            </div>
        </h:form>
    </p:dialog>
    
    <!-- Diálogo de Cadastro -->
    <p:dialog header="Cadastrar" widgetVar="dlgCadastrar" modal="true" draggable="false" resizable="false">
    <h:form>
        <div style="display: flex; flex-direction: column; gap: 15px;">
	        <div style="display: flex; gap: 50px; justify-content:space-between; align-items: center;">
	            <h:outputLabel for="newUsername" value="Usuário:" />
	            <p:inputText id="newUsername" value="#{registerBean.username}" required="true" label="Usuário" placeholder="Digite o nome de usuário" />
	        </div>
            
            <div style="display: flex; gap: 50px; justify-content:space-between; align-items: center;">
	            <h:outputLabel for="newEmail" value="Email:" />
	            <p:inputText id="newEmail" value="#{registerBean.email}" required="true" label="Email" placeholder="Digite o endereço de email" />
	        </div>
	        
	        <div style="display: flex; gap: 50px; justify-content:space-between; align-items: center;">
	            <h:outputLabel for="newTelefone" value="Telefone:" />
	            <p:inputText id="newTelefone" value="#{registerBean.telefone}" required="true" label="Telefone" placeholder="Digite o número de telefone" />
	        </div>
            
            <div style="display: flex; gap: 50px; justify-content:space-between; align-items: center;">
	            <h:outputLabel for="newPassword" value="Senha:" />
	            <p:password id="newPassword" value="#{registerBean.password}" required="true" label="Senha" placeholder="Digite a senha" />
            </div>
            
            <div style="display: flex; gap: 50px; justify-content:space-between; align-items: center;">
	            <h:outputLabel for="confirmPassword" value="Confirmar Senha:" />
	            <p:password id="confirmPassword" value="#{registerBean.confirmPassword}" required="true" label="Confirmar Senha" placeholder="Confirme a senha" />
            </div>
            
            <p:commandButton value="Cadastrar" action="#{registerBean.register}" update="@form" colspan="2" />
            
            <div style="display: flex; gap: 20px; align-items: center;">
	            <h:outputLabel value="Já tem uma conta?" />
	            <p:commandLink value="Entrar" style="text-decoration: underline" onclick="PF('dlgLogin').show(); PF('dlgCadastrar').hide();" /> 
	        </div>
        </div>
    </h:form>
</p:dialog>
    


    </h:body>
</html>
